<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>관리자 메인</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <!-- Google Charts -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  <style>
	* {
	box-sizing: border-box;
	}

	body {
	margin: 0;
	font-family: '맑은 고딕', sans-serif;
	background: #f9f9f9;
	}

	/* 상단 관리자 영역 */
	#admin_top_section {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	padding: 12px 15px;
	gap: 12px;
	height: 42vh; /* 해상도별 자동 조절 */
	background: #f0f0f0;
	border-bottom: 2px solid #ccc;
	}

	/* 개별 박스 */
	.admin-box {
	flex: 1 1 calc(25% - 14px);
	min-width: 250px;
	background: #fff;
	border: 1px solid #ddd;
	padding: 12px;
	border-radius: 6px;
	box-shadow: 1px 1px 4px rgba(0,0,0,0.1);
	overflow-y: auto;
	display: flex;
	flex-direction: column;
	}

	/* 박스 헤더 */
	.admin-box-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	height: 40px;
	margin-bottom: 10px;
	padding: 0 4px;
	border-bottom: 1px solid #eee;
	}
	.admin-box-title {
	font-size: 17px;
	font-weight: bold;
	color: #222;
	display: flex;
	align-items: center;
	gap: 8px;
	}
	.admin-box-title i {
	font-size: 20px;
	color: #2196f3;
	}
	.more-link {
	font-size: 12px;
	color: #666;
	cursor: pointer;
	display: flex;
	align-items: center;
	gap: 4px;
	}

	/* 주문/상품현황 구성 */
	.order-grid,
	.product-grid {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 6px;
	}
	.order-item,
	.product-item {
	display: flex;
	justify-content: space-between;
	padding: 6px 8px;
	background: #f7f7f7;
	border: 1px solid #ddd;
	border-radius: 4px;
	font-size: 14px;
	color: #333;
	}

	.order-grid {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 6px;
	height: 100%;
	}
	.order-item {
	flex: 1 1 auto;
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 10px;
	background: #f7f7f7;
	border: 1px solid #ddd;
	border-radius: 4px;
	font-size: 14px;
	color: #333;
	min-height: 40px;
	}

	.product-box {
	border: 1px solid #ddd;
	border-radius: 6px;
	padding: 10px;
	height: 100%;
	}
	.product-title {
	font-size: 14px;
	margin-bottom: 8px;
	padding-bottom: 4px;
	font-weight: bold;
	border-bottom: 1px solid #ddd;
	}

	.product-status-list {
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	height: 100%;
	}

	.product-item {
	display: flex;
	justify-content: space-between;
	padding: 6px 8px;
	background: #f7f7f7;
	border: 1px solid #ddd;
	border-radius: 4px;
	font-size: 13px;
	min-height: 36px;
	}
	.bg-blue {
	background-color: #e3f2fd;
	}
	.bg-pink {
	background-color: #fdecef;
	}

	/* 문의 리스트 */
	.inquiry-list {
	list-style: none;
	padding: 0;
	margin: 0;
	}
	.inquiry-item {
	border-bottom: 1px solid #eee;
	padding: 6px 0;
	font-size: 13px;
	}
	.inquiry-item .status {
	font-weight: bold;
	color: #e91e63;
	float: right;
	}
	.inquiry-item time {
	font-size: 11px;
	color: #999;
	display: block;
	}

	/* 하단 그래프 + 공지 */
	#admin_bottom_section {
	display: flex;
	flex-wrap: wrap;
	padding: 12px 15px;
	gap: 12px;
	height: calc(100vh - 42vh - 30px); /* 상단 높이 제외 */
	background: #fff;
	box-sizing: border-box;
	}
	.graph-box {
	flex: 1 1 60%;
	min-width: 400px;
	border: 1px solid #ddd;
	background: #fafafa;
	border-radius: 6px;
	padding: 12px;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	}
	.notice-box {
	flex: 1 1 38%;
	min-width: 300px;
	border: 1px solid #ddd;
	background: #fafafa;
	border-radius: 6px;
	padding: 12px;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	}
	.graph-box h3,
	.notice-box h3 {
	font-size: 16px;
	margin-bottom: 10px;
	color: #222;
	border-bottom: 1px solid #ddd;
	padding-bottom: 4px;
	}
	#chart_div {
	width: 100%;
	height: 280px;
	}
	.sum-box {
	display: flex;
	justify-content: flex-end;
	gap: 20px;
	margin-bottom: 10px;
	}
	.sum-item {
	background: #fff;
	padding: 10px 14px;
	border: 1px solid #ddd;
	border-radius: 6px;
	font-size: 13px;
	color: #222;
	box-shadow: 1px 1px 3px rgba(0,0,0,0.05);
	}
	.sum-item span.order {
	color: #1976d2;
	font-weight: bold;
	}
	.sum-item span.cancel {
	color: #d32f2f;
	font-weight: bold;
	}
  </style>

  <script>
    google.charts.load('current', {packages: ['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      const data = google.visualization.arrayToDataTable([
        ['날짜', '주문금액', '취소금액'],
        ['7/4', 120000, 10000],
        ['7/5', 180000, 15000],
        ['7/6', 150000, 0],
        ['7/7', 200000, 30000],
        ['7/8', 220000, 10000],
        ['7/9', 170000, 5000],
        ['7/10', 210000, 8000]
      ]);

      const options = {
        title: '최근 7일 주문/취소 금액',
        legend: { position: 'top' },
        bars: 'vertical',
        colors: ['#42a5f5', '#ef5350'],
        vAxis: {
          format: '#,###원',
          title: '금액(원)'
        },
        hAxis: {
          title: '날짜'
        }
      };

      const chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }

    $(document).ready(function(){
      // 합계 금액 계산
      const orders = [120000, 180000, 150000, 200000, 220000, 170000, 210000];
      const cancels = [10000, 15000, 0, 30000, 10000, 5000, 8000];
      const totalOrder = orders.reduce((a,b) => a+b, 0).toLocaleString();
      const totalCancel = cancels.reduce((a,b) => a+b, 0).toLocaleString();

      $("#order_sum").text(`${totalOrder}원`);
      $("#cancel_sum").text(`${totalCancel}원`);
    });
  </script>
</head>

<body>

<!-- 상단 관리자 박스 -->
<div id="admin_top_section">
  <div class="admin-box">
    <div class="admin-box-header">
      <div class="admin-box-title"><i class="fas fa-truck"></i> 주문처리</div>
      <div class="more-link">더보기</div>
    </div>
    <div class="order-grid">
      <div class="order-item">입금대기 <span class="count">2건</span></div>
      <div class="order-item">입금완료 <span class="count">1건</span></div>
      <div class="order-item">발주 <span class="count">4건</span></div>
      <div class="order-item">발주사배송 <span class="count">2건</span></div>
      <div class="order-item">국내공항도착 <span class="count">0건</span></div>
      <div class="order-item">배송중 <span class="count">3건</span></div>
      <div class="order-item">배송완료 <span class="count">6건</span></div>
      <div class="order-item">고객확정 <span class="count">7건</span></div>
      <div class="order-item">취소 <span class="count">0건</span></div>
      <div class="order-item">반품 <span class="count">1건</span></div>      
    </div>
  </div>

  <div class="admin-box">
    <div class="admin-box-header">
      <div class="admin-box-title"><i class="fas fa-box"></i> 상품현황</div>
      <div class="more-link">더보기</div>
    </div>
    <div class="product-grid">
      <div class="product-box bg-blue">
        <div class="product-title">일반판매</div>
        <div class="product-status-list">
          <div class="product-item"><span>판매중</span> <span>63개</span></div>
          <div class="product-item"><span>판매종료</span> <span>12개</span></div>
        </div>
      </div>
      <div class="product-box bg-pink">
        <div class="product-title">이벤트판매</div>
        <div class="product-status-list">
          <div class="product-item"><span>판매중</span> <span>5개</span></div>
          <div class="product-item"><span>품절</span> <span>3개</span></div>
          <div class="product-item"><span>판매종료</span> <span>7개</span></div>
        </div>
      </div>
    </div>
  </div>

  <div class="admin-box">
    <div class="admin-box-header">
      <div class="admin-box-title"><i class="fas fa-user-headset"></i> 1:1문의</div>
      <div class="more-link">더보기</div>
    </div>
    <ul class="inquiry-list">
      <li class="inquiry-item">배송 언제 오나요?<span class="status">미답변</span><time>07:30</time></li>
      <li class="inquiry-item">제품 불량 같습니다<span class="status">미답변</span><time>06:20</time></li>
      <li class="inquiry-item">교환 요청합니다<span class="status">답변완료</span><time>06:10</time></li>
    </ul>
  </div>

  <div class="admin-box">
    <div class="admin-box-header">
      <div class="admin-box-title"><i class="fas fa-comment-dots"></i> 상품문의</div>
      <div class="more-link">더보기</div>
    </div>
    <ul class="inquiry-list">
      <li class="inquiry-item">사이즈가 어떻게 되나요?<span class="status">미답변</span><time>07:00</time></li>
      <li class="inquiry-item">재입고 언제 되나요?<span class="status">답변완료</span><time>06:45</time></li>
      <li class="inquiry-item">가격 조정 가능한가요?<span class="status">미답변</span><time>05:55</time></li>
    </ul>
  </div>
</div>

<!-- 하단 그래프 + 공지 -->
<div id="admin_bottom_section">
  <div class="graph-box">
    <h3>주문/취소금액 그래프</h3>
    <div class="sum-box">
      <div class="sum-item">주문 합계: <span id="order_sum">0원</span></div>
      <div class="sum-item">취소 합계: <span id="cancel_sum">0원</span></div>
    </div>
    <div id="chart_div"></div>
  </div>

  <div class="notice-box">
    <h3>공지사항</h3>
    <ul>
      <li>[점검] 7월 13일 오전 2시~4시 서버 점검 예정</li>
      <li>[신규기능] 배송추적 API 연동 완료 안내</li>
    </ul>
  </div>
</div>

</body>
</html>
